let lpglobalCookie="globalCookie",pdebug=!1;pdebug||(console.log=function(){});let lpIPcountryCode="",lpformValidated=!0;function lpEmailCheck(e){return fetch(" https://forms.hsforms.com/emailcheck/v1/json-ext?portalId=8552073&includeFreemailSuggestions=false",{method:"POST",body:e}).then(e=>e.json()).then(e=>{e.emailFree?(document.getElementById("lpemail-error").style.display="block",document.getElementById("lpemail-error").innerText="Please enter your company/business email address.",lpformValidated=!1):(document.getElementById("lpemail-error").style.display="none",lpformValidated=!0)})}function setCookiee(e,t,o,l){let i=new Date;i.setTime(i.getTime()+864e5*o);let n="expires="+i.toUTCString();document.cookie=e+"="+t+";"+n+";path="+l}function getCookiee(e){let t=e+"=",o=document.cookie.split(";");for(let l=0;l<o.length;l++){let i=o[l];for(;" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}document.getElementById("lpemail").addEventListener("focusout",e=>{lpEmailCheck(e.target.value)}),fetch("https://api.geoapify.com/v1/ipinfo?&apiKey=c23115da6cf642e59b96f32b9d512a4c",{crossDomain:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},method:"GET"}).then(e=>e.json()).then(e=>{e?.country&&(lpIPcountryCode=e.country.iso_code)}).catch();const _lpsubmitHubspotForm=(e,t,o,l,i)=>{document.getElementById("lp_demo_submit-btn").value="Please wait...";let n={submittedAt:new Date().getTime(),fields:[],context:{hutk:getCookie("hubspotutk"),pageUri:window.location.href,pageName:document.title}},a=0;for(let r in e)e.hasOwnProperty(r)&&(n.fields[a]={objectTypeId:"0-1",name:r,value:e[r]},a++);fetch(`https://api.hsforms.com/submissions/v3/integration/submit/${o}/${l}`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)}).then(e=>e.json()).then(o=>{document.getElementById("lp_demo_submit-btn").value="Get started",o.inlineMessage?(localStorage.setItem("skuadSignupFormData",JSON.stringify({...e,countryCode:t})),$("#hmemail").val($("#lpemail").val()),lphideExitPopup(),hmshowExitPopup(),setCookiee(lpglobalCookie,"true",1,"/")):"error"===o.status&&"BLOCKED_EMAIL"===o.errors[0].errorType?(document.getElementById("lpemail-error").style.display="block",document.getElementById("lpemail-error").innerText="Please enter your company/business email address."):"error"===o.status&&"INVALID_EMAIL"===o.errors[0].errorType&&(document.getElementById("lpemail-error").style.display="block",document.getElementById("lpemail-error").innerText="Please enter your valid email address.")}).catch(e=>{document.getElementById("lp_demo_submit-btn").value="Get started"})},lphubspotOnSubmit=e=>{e.preventDefault();let t=new FormData(e.target),o=Object.fromEntries(t.entries()),l=lpIPcountryCode;lpEmailCheck(o.email).then(()=>{lpformValidated&&_lpsubmitHubspotForm(o,l,"8552073","66613d75-55ac-46f1-9774-d179459b5e51"),"function"==typeof klentyFormSubmit&&klentyFormSubmit("lp-demo-api-form")}),document.getElementById("lp-demo-api-form").style.display="block",document.getElementById("lphubspot-form-success").style.display="none",document.getElementById("lphubspot-form-error").style.display="none"};document.getElementById("lp-demo-api-form").addEventListener("submit",lphubspotOnSubmit),document.getElementById("lp-demo-api-form").addEventListener("change",e=>{document.getElementById(e.target.name+"-error")&&(document.getElementById(e.target.name+"-error").style.display="none"),"email"===e.target.name&&(lpformValidated=!0)});var lpexitPopup=document.getElementById("lpexitPopup"),lpcookieName="eorPopupShown";function lpshowExitPopup(){lpexitPopup.classList.add("visible");let e=window.location.pathname;setCookiee(lpcookieName,"true",1,e=e.substring(0,e.lastIndexOf("/")))}function lphideExitPopup(){let e=window.location.pathname;setCookiee(lpcookieName,"true",1,e=e.substring(0,e.lastIndexOf("/"))),lpexitPopup.classList.remove("visible")}document.addEventListener("mouseleave",function(e){!(e.clientY<=0)||getCookiee(lpglobalCookie)||getCookiee(lpcookieName)||lpshowExitPopup()}),document.getElementById("lpcross-pattern").addEventListener("click",function(e){lphideExitPopup()});
